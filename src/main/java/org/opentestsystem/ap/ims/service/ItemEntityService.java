package org.opentestsystem.ap.ims.service;

import org.opentestsystem.ap.common.rest.item.ItemCommitResponse;
import org.opentestsystem.ap.common.rest.item.ItemEntityResponse;
import org.opentestsystem.ap.ims.model.ItemResource;

import java.util.Optional;
import java.util.UUID;

public interface ItemEntityService {
    Optional<ItemEntityResponse> findItemEntityById(UUID id);

    ItemCommitResponse findMasterItemCommitsSinceCommit(String itemId, UUID fromCommitId);

    Optional<ItemEntityResponse> findLatestItemEntity(String itemId);

    ItemCommitResponse findAllItemCommits(String itemId);

    /**
     * Returns an item resource by item id and resource file name.  The resource being requested is associated with the
     * latest master version.  {@link org.opentestsystem.ap.common.exception.ValidationException} is thrown if any of
     * the arguments are null.
     *
     * @param itemId   an item identifier
     * @param fileName a resource file name
     * @return a found {@link ItemResource}
     */
    Optional<ItemResource> findItemResource(String itemId, String fileName);

    /**
     * Returns an item resource by item id, version (required) and resource file name.  {@link
     * org.opentestsystem.ap.common.exception.ValidationException} is thrown if any of the arguments are null.
     *
     * @param itemId   an item identifier
     * @param version  an item version
     * @param fileName a resource file name
     * @return a found {@link ItemResource}
     */
    Optional<ItemResource> findItemResource(String itemId, UUID version, String fileName);
}
